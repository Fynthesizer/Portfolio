<!DOCTYPE html>
<header>
  <div id="header-inner">
    <div id="header-left">
      <h1 onmouseenter="setHover(true)" onmouseleave="setHover(false)">
        <a id="headerText" href="/">Finneganeganegan</a>
      </h1>
    </div>
    <div id="header-right">
      <a href="/#main">About</a>
      <a href="/#portfolio">Projects</a>
      <a href="/#demos">Music</a>
    </div>
  </div>

  <script>
    let hovering = false;
    let letterIndex = 0;
    let nextLetterInterval = setInterval(nextLetter, 100);
    let headerText = document.getElementById("headerText");
    let headerString = headerText.innerHTML;

    window.onscroll = function () {
      resizeHeader();
    };
    window.onload = function () {
      resizeHeader();
    };

    function resizeHeader() {
      if (
        document.body.scrollTop > 30 ||
        document.documentElement.scrollTop > 30
      ) {
        document.getElementById("header-inner").style.padding = "30px";
      } else {
        document.getElementById("header-inner").style.padding =
          "60px 30px 60px 30px";
      }
    }

    function setHover(state) {
      hovering = state;
      if (!state) {
        letterIndex = 0;
        headerText.innerHTML = headerString;
      }
    }

    function nextLetter() {
      if (hovering) {
        let headerHTML = headerString;

        headerHTML =
          headerString.slice(0, letterIndex) +
          "<span id='highlighted'>" +
          headerString[letterIndex] +
          "</span>" +
          headerString.slice(letterIndex + 1, letterIndex.length);

        headerText.innerHTML = headerHTML;

        if (letterIndex < headerString.length - 1) letterIndex++;
        else letterIndex = 0;
      }
    }

    function scroll(section) {
      var element = document.getElementById(section);
      element.scrollIntoView({
        behavior: "smooth",
        block: "end",
        inline: "nearest",
      });
    }
  </script>
</header>
